<!DOCTYPE html>

<meta charset="utf-8">
<title>User Study</title>
<style>
    #mainSvg {
        margin-left: -60px;
        width: 1000px;
        height: 750px;
    }
</style>

<script src="/scripts/d3/d3.min.js"></script>
<script src="experimentr.js"></script>

<script src="p5.min.js"></script>
<script src="p5.dom.min.js"></script>

<script src="multi_scatter.js"></script>

<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css" />
<link rel="stylesheet" type="text/css" href="css/main.css" />
<link rel="stylesheet" type="text/css" href="modules/CSS/heatmapStyles.css" />
<link rel="stylesheet" type="text/css" href="modules/CSS/colorbrewer.css" />

<script type="text/javascript" src="modules/JS/d3.js"></script>
<script type="text/javascript" src="modules/JS/Heatmap.js"></script>
<script type="text/javascript" src="modules/JS/util.js"></script>
<script type="text/javascript" src="modules/JS/Slider.js"></script>
<script type="text/javascript" src="modules/Datasets/VanDeBuntNetwork.js"></script>

<body></body>

<script>
    var repeats = 6;
    var info = {};

    // pre-generate dataset order and animation order
    var data1 = ['data_1_1_w_y', 'data_1_2_x_y', 'data_1_3_v_w', 'data_1_4_v_y', 'data_1_5_w_x', 'data_1_6_y_z'];
    var data2 = d3.range(repeats).map(function(i) {
        return 'data_2_' + (i + 1);
    })

    var animate1 = d3.range(repeats).map(function(i) {
        return i % 2 == 0;
    });
    var animate2 = d3.range(repeats).map(function(i) {
        return i % 2 == 0;
    });

    d3.shuffle(data1);
    d3.shuffle(data2);
    d3.shuffle(animate1);
    d3.shuffle(animate2);

    info['data1'] = data1;
    info['data2'] = data2;
    info['animate1'] = animate1;
    info['animate2'] = animate2;
    info['current_question'] = 0;

    var modules = [
        // study introduction
        'modules/dimpvis_consent/', //must have

        // demographics  //must have
        // 'modules/dimpvis_demographics/',

        // section introduction
        'modules/dimpvis_intro/',

        // warm up introduction

        // section 1 introduction
        'modules/dimpvis_warmup/',
        'modules/dimpvis_heatmap_rv_q1/',
        'modules/dimpvis_heatmap_rv_q2/',
        'modules/dimpvis_heatmap_rv_q3/',

        'modules/dimpvis_heatmap_co_q1/',
        'modules/dimpvis_heatmap_co_q2/',
        'modules/dimpvis_heatmap_co_q3/',

        'modules/dimpvis_heatmap_cd_q1/',
        'modules/dimpvis_heatmap_cd_q2/',
        'modules/dimpvis_heatmap_cd_q3/',

        'modules/dimpvis_heatmap_od_q1/',
        'modules/dimpvis_heatmap_od_q2/',
        'modules/dimpvis_heatmap_od_q3/',
        // conclusion
        'modules/dimpvis_preference',
        'modules/debrief/'
    ];

    experimentr.addData(info);
    experimentr.sequence(modules).start();
</script>